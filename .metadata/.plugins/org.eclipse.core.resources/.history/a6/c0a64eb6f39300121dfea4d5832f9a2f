package com.gottagged380;



import java.util.Date;

import javax.jdo.PersistenceManager;
import javax.jdo.Query;

import com.google.api.server.spi.config.Api;
import com.google.api.server.spi.config.ApiMethod;


@Api(name = "gamemanager")
public class GameManager {

	@ApiMethod(name = "game.create")
	public GameSession createGame(GameRequest request){
		PersistenceManager pm = getPersistenceManager();
		Query q = pm.newQuery(User.class);
		q.setFilter("name == nameParam");
		q.declareParameters("String nameParam");
		 GameSession game = new GameSession();
		try{
		for(String name :request.getNameOfPlayers()){
		
		
		
	    
	     game.setId(new Date().getTime());
		}
		}finally{
			q.closeAll();
		}
	     return game;
	}
	
	
	
	private static PersistenceManager getPersistenceManager() {
		return PMF.get().getPersistenceManager();
	}

}


